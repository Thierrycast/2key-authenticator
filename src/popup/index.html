<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>2Key Authenticator</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="janela">
      <h1 class="titulo">2Key Authenticator</h1>

      <div id="view-inicial" class="view" style="display: none;">
        <h2 class="titulo">Boas-vindas 👋</h2>
        <p class="texto-explica">
          Para proteger seus códigos 2FA, defina uma <strong>senha mestre</strong>. Ela será usada para criptografar suas chaves secretas e ninguém mais (nem a extensão) poderá acessá-las sem ela.
        </p>
        <form id="form-senha-inicial" class="form-adicionar">
          <label>
            Definir senha mestre
            <input type="password" name="senha" required />
          </label>
          <button class="botao-salvar" type="submit">Começar</button>
        </form>
      </div>

      <div id="view-login" class="view" style="display: none;">
        <h2 class="titulo">Digite sua senha 🔒</h2>
        <p class="texto-explica">
          Para acessar seus códigos 2FA, digite a senha mestre que você criou.
        </p>
        <form id="form-login" class="form-adicionar">
          <label>
            Senha mestre
            <input type="password" name="senha" required />
          </label>
          <button class="botao-salvar" type="submit">Desbloquear</button>
          <p id="erro-login" class="erro" style="display: none; color: #f87171; font-size: 13px;">Senha incorreta</p>
        </form>
      </div>

      <div class="view" id="view-lista">
        <button id="toggle-privacidade" class="botao-olho" title="Ocultar códigos">
          <img src="../../public/icons/eye-icon.svg" alt="Ícone olho">
        </button>
        <div id="lista-codigos"></div>
        <button class="botao-add" id="abrir-formulario" title="Adicionar chave">+</button>
      </div>

      <div id="privacidade-overlay" class="overlay-privacidade">
        <p class="mensagem-privada">👀 Opa... <br>tem certeza que não tem ninguém de olho?</p>
        <button id="toggle-visibilidade" class="botao-visibilidade" title="Exibir códigos">Exibir códigos</button>
      </div>

      <div class="view" id="view-adicionar" style="display: none">
        <form id="form-chave" class="form-adicionar">
          <label>
            Nome da conta
            <input type="text" name="nome" required />
          </label>
          <label>
            Chave secreta (base32)
            <input type="text" name="chave" required />
          </label>
          <div class="botoes-form">
            <button type="submit" class="botao-salvar">Salvar</button>
            <button type="button" class="botao-cancelar" id="cancelar-form">Cancelar</button>
          </div>
        </form>
      </div>
    </div>

    <button id="abrir-config" class="botao-config">⚙️ Configurações</button>
    <script type="module" src="./index.js"></script>
  </body>
</html>
